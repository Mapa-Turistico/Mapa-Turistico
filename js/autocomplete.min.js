function autocomplete(inp,arr,map){var currentFocus;function addActive(x){if(!x)return!1;removeActive(x),currentFocus>=x.length&&(currentFocus=0),currentFocus<0&&(currentFocus=x.length-1),x[currentFocus].classList.add("autocomplete-active")}function removeActive(x){for(var i=0;i<x.length;i++)x[i].classList.remove("autocomplete-active")}function closeAllLists(elmnt){for(var x=document.getElementsByClassName("autocomplete-items"),i=0;i<x.length;i++)elmnt!=x[i]&&elmnt!=inp&&x[i].parentNode.removeChild(x[i])}inp.addEventListener("input",(function(e){var a,b,i,val=this.value;if(closeAllLists(),!val)return!1;for(currentFocus=-1,(a=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),a.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(a),i=0;i<arr.length;i++)arr[i].title.substr(0,val.length).toUpperCase()==val.toUpperCase()&&((b=document.createElement("DIV")).innerHTML="<strong style='color: #AD144F;'>"+arr[i].title.substr(0,val.length)+"</strong>",b.innerHTML+=arr[i].title.substr(val.length),b.innerHTML+="<input data-id='"+arr[i].id+"' type='hidden' value='"+arr[i].title+"'>",b.addEventListener("click",(function(e){inp.value=this.getElementsByTagName("input")[0].value;const id=this.getElementsByTagName("input")[0].dataset.id;getItem(id,map),closeAllLists()})),a.appendChild(b));const inputServicos=document.getElementById("busca-servicos");inputServicos.style.zIndex=a.childElementCount>0?3:1})),inp.addEventListener("keydown",(function(e){var x=document.getElementById(this.id+"autocomplete-list");x&&(x=x.getElementsByTagName("div")),40==e.keyCode?(currentFocus++,addActive(x)):38==e.keyCode?(currentFocus--,addActive(x)):13==e.keyCode&&(e.preventDefault(),currentFocus>-1&&x&&x[currentFocus].click())})),document.addEventListener("click",(function(e){closeAllLists(e.target)}))}